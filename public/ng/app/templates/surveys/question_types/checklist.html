<section class="checkbox" ng-controller="ChecklistCtrl">

  <!-- TODO: validate 'other' as $valid only if text inputted -->
  <form name="currentForm" valid-form>
    <ul>
      <div ng-repeat="choice in question.choices">
        <li class="item item-checkbox">
            <label class="checkbox">
              <input
                type="checkbox"
                ng-required="atLeastOneSelected(question.choices)"
                ng-model="choice.selected"
                ng-change="disableIfChosenNone(choice)"
                ng-disabled="choice.disabled" />
            </label>
            {{ choice.content }}
        </li>
        <li ng-show="choice.textfield && choice.selected">
          <label class="item item-input other-textbox">
            <textarea
              placeholder="Please specify"
              rows="5"
              ng-model="choice.value"></textarea>
          </label>
        </li>
      </div>
    </ul>
  </form>

</section>
